
<div class="container mt-5">
  <div class="row">
    <div class="col-8">
      <h3 class="text-info">タスク一覧</h3>
      <div class="table-responsive">
        <table class="table table-hover">
          <thead class="bg-light">
            <tr>
              <th>達成</th>
              <th>科目</th>
              <th>タスク</th>
              <th>時間</th>
              <th>編集</th>
              <th>削除</th>
            </tr>
          </thead>
          <tbody>
            <% @tasks.each do |task| %>
              <tr>
                <td>
                  <%= link_to task_achieved_tasks_path(task), method: :post, data: {confirm: "タスクを達成しますか？"} do %>
                    <i class="fa-regular fa-square-check"></i>
                  <% end %>
                </td>
                <td><%= task.subject.name %></td>
                <td><%= task.content %></td>
                <td><%= task.study_hours %>時間</td>
                <td>
                  <%= link_to edit_task_path(task) do %>
                    <i class="fa-solid fa-pen-to-square"></i>
                  <% end %>
                </td>
                <td>
                  <%= link_to task_path(task), method: :delete do %>
                    <i class="fa-regular fa-trash-can"></i>
                  <% end %>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="row mt-5">
    <div class="col-8">
      <h3 class="text-info">タスク追加</h3>
      <div>
        <%= form_with model: @task, url: tasks_path, method: :post do |f| %>
          <div class="d-flex justify-content-between">
            <div>
              <%= f.label :subject_id, "科目:", class: "mr-2" %>
              <%= f.select :subject_id, options_from_collection_for_select(Subject.all, :id, :name) %>
            </div>
            <div>
              <%= f.label :content, "タスク:", class: "mr-2" %>
              <%= f.text_field :content, placeholder: "(例)国語の教科書", autocomplete: "off" %>
            </div>
            <div>
              <%= f.label :study_hours, "学習時間:", class: "mr-2" %>
              <%= f.select :study_hours, *[((0.5)..(12.0)).step(0.5)] %>時間
            </div>
            <div>
              <%= f.submit "タスク追加", class: "btn btn-secondary" %>
            </div>
          </div>
        <% end %>
      </div>
      <p>↓<br>科目の追加は<%= link_to "こちら", new_subject_path %></p>
    </div>
  </div>
</div>

